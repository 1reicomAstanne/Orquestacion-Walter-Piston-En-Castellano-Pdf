<nav class="navbar navbar-default hidden-print" role="navigation">
  <div class="container">
    <ul class="nav navbar-nav">
      <li class="dropdown">
        <a href="javascript:void(0)" class="dropdown-toggle" data-toggle="dropdown">
          Waluta <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          {{#each currency in Faktura.currencies}}
            <li><a href="javascript:void(0)" {{action "setCurrency" currency}}>{{currency}}</a></li>
          {{/each}}
        </ul>
      </li>
      <li class="dropdown">
        <a href="javascript:void(0)" class="dropdown-toggle" data-toggle="dropdown">
          Język <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          {{#each language in Faktura.languages}}
            <li><a href="javascript:void(0)" {{action "setLanguage" language}}>{{language}}</a></li>
          {{/each}}
        </ul>
      </li>
    </ul>
  </div>
</nav>

<div class="container">
  <h1>
    <strong>Faktura {{#if model.isEnglish}}/ Invoice{{/if}}</strong>
    <button class="btn btn-default hidden-print" {{action "save"}}>Zapisz</button>
    <button class="btn btn-default hidden-print" {{action "print"}}>Drukuj</button>
  </h1>

  <br>

  <div class="visible-print">
    <p>
      {{#if model.isEnglish}}
        Numer / Number:
      {{else}}
        Numer:
      {{/if}}
      <strong>{{model.number}}</strong>
    </p>
    <p>
      {{#if model.isEnglish}}
        Data wystawienia / Date of issue:
      {{else}}
        Data wystawienia:
      {{/if}}
      <strong>{{model.dateOfIssue}}</strong>
    </p>
    <p>
      {{#if model.isEnglish}}
        Data sprzedaży / Date of sale:
      {{else}}
        Data sprzedaży:
      {{/if}}
      <strong>{{model.dateOfSale}}</strong>
    </p>
    <p>
      {{#if model.isEnglish}}
        Termin płatności / Due date:
      {{else}}
        Termin płatności:
      {{/if}}
      <strong>{{model.dueDate}}</strong>
    </p>
  </div>

  <div class="form-horizontal hidden-print">
    <div class="form-group">
      <label class="control-label col-xs-3" for="number">
        Numer {{#if model.isEnglish}}/ Number{{/if}}
      </label>
      <div class="col-xs-3">
        {{input class="form-control hidden-print" valueBinding="model.number" id="number"}}
      </div>
    </div>

    <div class="form-group">
      <label class="control-label col-xs-3" for="dateOfIssue">
        Data wystawienia {{#if model.isEnglish}}/ Date of issue{{/if}}
      </label>
      <div class="col-xs-3">
        {{input type="date" class="form-control hidden-print" valueBinding="model.dateOfIssue" id="dateOfIssue"}}
      </div>
    </div>

    <div class="form-group">
      <label class="control-label col-xs-3" for="dateOfSale">
        Data sprzedaży {{#if model.isEnglish}}/ Date of sale{{/if}}
      </label>
      <div class="col-xs-3">
        {{input type="date" class="form-control hidden-print" valueBinding="model.dateOfSale" id="dateOfSale"}}
      </div>
    </div>

    <div class="form-group">
      <label class="control-label col-xs-3" for="dueDate">
        Termin płatności {{#if model.isEnglish}}/ Due date{{/if}}
      </label>
      <div class="col-xs-3">
        {{input type="date" class="form-control hidden-print" valueBinding="model.dueDate" id="dueDate"}}
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-xs-6">
      <h4>
        <label for="seller">
          Sprzedawca {{#if model.isEnglish}}/ Seller{{/if}}
        </label>
      </h4>
      <p class="visible-print">
        <strong>{{model.sellerFirstLine}}</strong><br>
        {{#each line in model.sellerRest}}{{line}}<br>{{/each}}
      </p>
      {{textarea class="form-control hidden-print" rows="4" valueBinding="model.seller" id="seller"}}
    </div>

    <div class="col-xs-6">
      <h4>
        <label for="buyer">
          Nabywca {{#if model.isEnglish}}/ Buyer{{/if}}
        </label>
      </h4>
      <p class="visible-print">
        <strong>{{model.buyerFirstLine}}</strong><br>
        {{#each line in model.buyerRest}}{{line}}<br>{{/each}}
      </p>
      {{textarea class="form-control hidden-print" rows="4" valueBinding="model.buyer" id="buyer"}}
    </div>
  </div>

  <br>

  <table class="table table-striped table-condensed">
    <tr>
      <th class="col-xs-4">
        Nazwa
      </th>
      <th class="text-right">
        Liczba
      </th>
      <th class="text-right col-xs-1">
        J.m.
      </th>
      <th class="text-right">
        Cena netto
      </th>
      <th class="text-right">
        Wartość netto
      </th>
      <th class="text-right col-xs-1">
        Stawka VAT
      </th>
      <th class="text-right">
        Wartość VAT
      </th>
      <th class="text-right">
        Wartość brutto
      </th>
      <th class="hidden-print"></th>
    </tr>
    {{#if model.isEnglish}}
      <tr>
        <th class="col-xs-4">
          Name
        </th>
        <th class="text-right">
          Quantity
        </th>
        <th class="text-right col-xs-1">
          Unit
        </th>
        <th class="text-right">
          Net price
        </th>
        <th class="text-right">
          Net amount
        </th>
        <th class="text-right col-xs-1">
          VAT rate
        </th>
        <th class="text-right">
          VAT amount
        </th>
        <th class="text-right">
          Gross amount
        </th>
        <th class="hidden-print"></th>
      </tr>
    {{/if}}

    {{#each item in model.items}}
      <tr>
        <td>
          <p class="visible-print"><small>{{item.description}}</small></p>
          {{input class="form-control hidden-print" valueBinding="item.description"}}
        </td>
        <td class="text-right">
          <p class="visible-print">{{item.formattedQuantity}}</p>
          {{input type="number" step="0.001" min="0" class="form-control text-right hidden-print" valueBinding="item.formattedQuantity"}}
        </td>
        <td class="text-right">
          <p class="visible-print">{{item.unit}} {{#if model.isEnglish}}/ {{item.englishUnit}}{{/if}}</p>
          {{view Ember.Select class="form-control hidden-print" contentBinding="Faktura.units" valueBinding="item.unit"}}
        </td>
        <td class="text-right">
          <p class="visible-print">
            {{integerToCurrency item.netPrice}}&nbsp;<small class="text-muted">{{model.currency}}</small>
          </p>
          {{input type="number" step="0.01" min="0" class="form-control text-right hidden-print" valueBinding="item.formattedNetPrice"}}
        </td>
        <td class="text-right">
          <p class="visible-print">
            {{item.formattedNetAmount}}&nbsp;<small class="text-muted">{{model.currency}}</small>
          </p>
          {{input class="form-control text-right hidden-print" valueBinding="item.formattedNetAmount" disabled="disabled"}}
        </td>
        <td class="text-right">
          <p class="visible-print">{{item.formattedTaxRate}}</p>
          {{view Ember.Select class="form-control hidden-print" contentBinding="Faktura.taxRates" valueBinding="item.formattedTaxRate"}}
        </td>
        <td class="text-right">
          <p class="visible-print">
            {{item.formattedTaxAmount}}&nbsp;<small class="text-muted">{{model.currency}}</small>
          </p>
          {{input class="form-control text-right hidden-print" valueBinding="item.formattedTaxAmount" disabled="disabled"}}
        </td>
        <td class="text-right">
          <p class="visible-print">
            {{item.formattedGrossAmount}}&nbsp;<small class="text-muted">{{model.currency}}</small>
          </p>
          {{input class="form-control text-right hidden-print" valueBinding="item.formattedGrossAmount" disabled="disabled"}}
        </td>
        <td class="hidden-print">
          <button class="btn btn-remove" {{action "removeItem" item}}><strong>×</strong></button>
        </td>
      </tr>
    {{/each}}
    <tr class="hidden-print">
      <td colspan="9" class="text-center"><button class="btn btn-add btn-block" {{action "addItem"}}><strong>+</strong></button></td>
    </tr>
    <tr>
      <th class="text-right" colspan="4">Razem {{#if model.isEnglish}}/ Total{{/if}}</th>
      <td class="text-right">{{integerToCurrency model.totalNetAmount}}&nbsp;<small class="text-muted">{{model.currency}}</td>
      <td></td>
      <td class="text-right">{{integerToCurrency model.totalTaxAmount}}&nbsp;<small class="text-muted">{{model.currency}}</td>
      <td class="text-right">{{integerToCurrency model.totalGrossAmount}}&nbsp;<small class="text-muted">{{model.currency}}</td>
      <td class="hidden-print"></td>
    </tr>
    {{#each subTotal in model.subTotals}}
      <tr>
        <th class="text-right" colspan="4">W tym {{#if model.isEnglish}}/ Including{{/if}}</th>
        <td class="text-right">{{integerToCurrency subTotal.netAmount}}&nbsp;<small class="text-muted">{{model.currency}}</td>
        <td class="text-right">{{subTotal.formattedTaxRate}}</td>
        <td class="text-right">{{integerToCurrency subTotal.taxAmount}}&nbsp;<small class="text-muted">{{model.currency}}</td>
        <td class="text-right">{{integerToCurrency subTotal.grossAmount}}&nbsp;<small class="text-muted">{{model.currency}}</td>
        <td class="hidden-print"></td>
      </tr>
    {{/each}}
  </table>

  <div class="row">
    <div class="col-xs-12">
      <p>
        Słownie: <strong>{{model.totalGrossAmountInWords}}</strong>
      </p>
      {{#if model.isEnglish}}
        <p>
          In words: <strong>{{model.englishTotalGrossAmountInWords}}</strong>
        </p>
      {{/if}}
    </div>
  </div>

  <div class="row">
    <div class="col-xs-12">
      <label for="comment" class="hidden-print">
        Uwagi{{#if model.isEnglish}} / Comments{{/if}}
      </label>
      <p class="visible-print">
        {{#each line in model.commentLines}}{{line}}<br>{{/each}}
      </p>
      {{textarea class="form-control hidden-print" rows="4" valueBinding="model.comment" id="comment"}}
    </div>
  </div>

  <br>

  <div class="row">
    <div class="col-xs-6">
      {{input class="form-control text-center hidden-print" valueBinding="model.buyerSignature" id="buyerSignature"}}
      <p class="visible-print text-center signature">&nbsp;{{model.buyerSignature}}&nbsp;</p>
      <label for="buyerSignature">Podpis nabywcy{{#if model.isEnglish}} / Buyer's signature{{/if}}</label>
    </div>
    <div class="col-xs-6">
      {{input class="form-control text-center hidden-print" valueBinding="model.issuerSignature" id="issuerSignature"}}
      <p class="visible-print text-center signature">&nbsp;{{model.issuerSignature}}&nbsp;</p>
      <label for="issuerSignature">Podpis wystawiającego{{#if model.isEnglish}} / Issuer's signature{{/if}}</label>
    </div>
  </div>

  <br>
  <br>
</div>
